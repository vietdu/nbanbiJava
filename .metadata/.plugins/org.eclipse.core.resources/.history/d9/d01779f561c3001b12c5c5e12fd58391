package vn.nbb.quanly;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;

import nv.nbb.connectdata;

public class htmlChuyenbay {
	private String htmlBay="";
	private String duongbay;
	public htmlChuyenbay(String duongbay) {
		this.duongbay=duongbay;
	}
	public String getHtmlBay() {
	
	try {
		Connection con = connectdata.getCon();
		System.out.println("SELECT chuyenbay.tenhang, chuyenbay.batdau, chuyenbay.tendb, chuyenbay.soluong, chuyenbay.gia, duongbay.tgbay, hangbay.anh FROM ((chuyenbay INNER JOIN duongbay ON chuyenbay.tendb = duongbay.tendb) INNER JOIN hangbay ON chuyenbay.tenhang = hangbay.tenhang) where chuyenbay.tendb='"+duongbay+"'");
	
		PreparedStatement ps = con.prepareStatement("SELECT chuyenbay.tenhang, chuyenbay.batdau, chuyenbay.tendb, chuyenbay.soluong, chuyenbay.gia, duongbay.tgbay, hangbay.anh FROM ((chuyenbay INNER JOIN duongbay ON chuyenbay.tendb = duongbay.tendb) INNER JOIN hangbay ON chuyenbay.tenhang = hangbay.tenhang) where chuyenbay.tendb='"+duongbay+"'AND chuyenbay.soluong > 0");
		ResultSet rs = ps.executeQuery();
		
		

		while(rs.next())
		{
			
			String tenhang = rs.getString(1);
			String batdau = rs.getString(2);
			String tendb = rs.getString(3);
			String soluong = rs.getString(4);
			String gia = rs.getString(5);
			String tgbay=rs.getString(6);
			String anh = rs.getString(7);

			htmlBay = htmlBay+"              <div class='carousel-inner'>\r\n"
					+ "                        <div class='carousel-item active'>\r\n"
					+ "                            <div class='mask flex-center'>\r\n"
					+ "                                <div class='container'>\r\n"
					+ "                                    <div class='row align-items-center'>\r\n"
					+ "                                        <div class='col-md-7 col-12 order-md-1 order-2'>\r\n"
					+ "             \r\n"
					+ "                                            <h4>Giảm 20% vé</h4>\r\n"
					+ "                                            <p>Cho lần mua tiếp theo trong vào 1 tháng gần nhất</p> <br> <a href='#Booking'>ĐẶT NGAY</a>\r\n"
					+ "                                        </div>\r\n"
					+ "                                        <div class='col-md-5 col-12 order-md-2 order-1'><img src='anh/sale1.png'class='mx-auto' alt='slide'></div>\r\n"
					+ "                                    </div>\r\n"
					+ "                                </div>\r\n"
					+ "                            </div>\r\n"
					+ "                        </div>\r\n"
					+ "                        <div class='carousel-item '>";
		
		}
	
		

	}
	catch(Exception e)
	{
		e.printStackTrace();
	}
	return htmlBay;
	
	}
}
